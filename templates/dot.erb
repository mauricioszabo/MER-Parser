digraph mer {
	graph[overlap=false, splines=true]

<% @models.each do |model| %>
	"<%= model.name %>" [shape=Mrecord, fontsize=10, label="{<%= model.name %>|<%= model.attributes.join("\\l") %>}"]
<% end %>

	edge [len="2"]
<%
  def arrow(card)
    if(card == '1')
      'otee'
    else
      'crow'
    end
  end
  
@relationships.each do |relationship| %>
	"<%= relationship.right.name %>" -> "<%= relationship.left.name %>" [arrowtail=<%= 
  arrow(relationship.right.cardinality) %>, arrowhead=<%= 
  arrow(relationship.left.cardinality) %>, dir=both, fontsize=10 label="<%= 
  relationship.text %>"]
<% end %>
}
